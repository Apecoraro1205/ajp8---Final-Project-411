<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="author" content="Alex Pecoraro">
    <title>Body Mass Index Calculator</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>

    <style>
        body {
            background-color: lightyellow;
        }
        
        #SideBMI {
            text-align: center;
            float: right;
        }
        
        #tabs {
            width: 20em;
            height: 20em;
            text-align: center;
            float: left;
        }
        
        input {
            width: 3.5em;
        }
        
        label.error {
            display: block;
            float: left;
            color: lightskyblue;
            font-size: 0.01em;
            font-weight: bold;
            text-align: center;
        }
        
        input.error {
            background: lightyellow;
            border: 1px solid black;
        }

    </style>

    <script>
        "use strict";
        $(function() {

            //code for validation of input
            $('#standardFill').validate() //validation
            $('#standardFill').submit(function(e) {
                e.preventDefault(); //Prevents from submitting (which is the default action)

                // if the form is not valid don't do anything else but return
                if (!$('#standardFill').valid()) return;

                function calcImperialBMIFeetAndInches(heightInFeet, heightInInches, weightInPounds) {
                    // protection if I am passed strings make the number so I can apply isNaN
                    heightInFeet = Number(heightInFeet);

                    heightInInches = Number(heightInInches);

                    weightInPounds = Number(weightInPounds);

                    if (isNaN(heightInFeet) || isNaN(heightInInches) || isNaN(weightInPounds)) {
                        console.log("calcImperialBMIFeetAndInches - expects all inputs valid numbers");
                        throw "calcImperialBMIFeetAndInches - expects all inputs valid numbers";
                    }

                    var height = (heightInFeet * 12) + heightInInches;

                    return calcImperialBMI(height, weightInPounds);
                }

                function calcImperialBMI(heightInInches, weightInPounds) {
                    // protection if I am passed strings make the number so I can apply isNaN
                    heightInInches = Number(heightInInches);
                    weightInPounds = Number(weightInPounds);

                    if (isNaN(heightInInches) || isNaN(weightInPounds)) {
                        console.log("calcImperialBMI - expects all inputs valid numbers");
                        throw "calcMetricImperialBMI - expects all inputs valid numbers";

                        var BMI;
                        BMI = (weightInPounds * 703) / (heightInInches * heightInInches);
                        return BMI;
                    }
                }

                var myForm = document.getElementById("standardFill"); //displays input
                var n1 = document.getElementById("weightInPounds").value;
                var n2 = document.getElementById("heightInInches").value;
                var n3 = document.getElementById("heightInFeet").value;
                document.getElementById("BMIImperial").innerHTML = (n1 * 703) / (n3 * 12 + +n2) ** 2;
                return false;
            });



            $('#metricFill').validate() //validation
            $('#metricFill').submit(function() {
                event.preventDefault(); //Prevents from submitting (which is the default action)

                // if the form is not valid don't do anything else but return
                if (!$('#metricFill').valid()) return;

                function calcMetricBMICMandMM(heightInCentimeters, heightInMillimeters, weightInKilos) {

                    // protection if I am passed strings make the number so I can apply isNaN
                    heightInCentimeters = Number(heightInCentimeters);
                    heightInMillimeters = Number(heightInMillimeters);
                    weightInKilos = Number(weightInKilos);

                    if (isNaN(heightInCentimeters) || isNaN(heightInMillimeters) || isNaN(weightInKilos)) {
                        console.log("calcMetricBMICMandMM - expects all inputs valid numbers");
                        throw "calcMetricBMICMandMM - expects all inputs valid numbers";
                    }


                    var combinedHeight = (heightInCentimeters) + (heightInMillimeters / 10);

                    return calcMetricBMI(combinedHeight, weightInKilos);

                }

                function calcMetricBMI(heightInCentimeters, weightInKilos) {

                    // protection if I am passed strings make the number so I can apply isNaN
                    heightInCentimeters = Number(heightInCentimeters);
                    weightInKilos = Number(weightInKilos);

                    if (isNaN(heightInCentimeters) || isNaN(weightInKilos)) {
                        console.log("calcMetricBMI - expects all inputs valid numbers");
                        throw "expects all inputs valid numbers";
                    }

                    var BMI;
                    var heightInMeters = heightInCentimeters / 100;
                    BMI = (weightInKilos) / (heightInMeters * heightInMeters);
                    return BMI;
                }

                var myForm2 = document.getElementById("metricFill"); //displays input
                var j1 = document.getElementById("heightInCentimeters").value;
                var j2 = document.getElementById("weightInKilos").value;
                document.getElementById("BMIMetric").innerHTML = j2 / (j1 / 100) ** 2;
                return false;
            });

            //code for dialog box and the visual            
            $("#tabs").tabs(); //adds tabs

            $("#calculator").dialog({ //adds calculator
                draggable: false,
                width: 600
            });

        });

        //Code for Metric Standard Calculator Calculations

    </script>

</head>

<body>
    <div id="TopContent">
        <h1>Calculate Your Body Mass Index</h1>
        <p>Body mass index (BMI) is a measure of body fat based on height and weight that applies to adult men and women.</p>
        <ol>
            <li>Enter your weight and height using standard or metric measures.</li>
            <li>Select "Compute BMI" and your BMI will appear below.</li>
        </ol>
    </div>


    <div hidden id="calculator" title="Calculate" id="realcalc">
        <div id="SideBMI">
            <h3>BMI Categories</h3>
            <p>Underweight = &lt;18 </p>
            <p>Normal weight = 18.5 - 24.9</p>
            <p>Overweight = 25-29.9</p>
            <p>Obesity = BMI of 30 or greater</p>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/BMI/bmi_tbl.htm"> The BMI Tables</a>
            <br>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/index.htm">Aim for a Health Weight</a>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/risk.htm#limitations">Limitations of the BMI</a>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/risk.htm">Assessing Your Risk</a>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/control.htm">Controlling your Weight</a>
            <br>
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/eat/recipes.htm">Recipes</a>
        </div>

        <div id="tabs">
            <ul>
                <li><a href="#tabs-1">Standard</a></li>
                <li><a href="#tabs-2">Metric</a></li>
            </ul>

            <div id="tabs-1">
                <form id="standardFill" action="sampleactionOne.html">
                    <label for="feet" class="heightFt">Your Height: </label>
                    <input type="number" id="heightInFeet" class="required digits"> ft. &nbsp;
                    <label for="inches" class="heightIn"></label>
                    <input type="number" id="heightInInches" class="required digits"> in. &nbsp;
                    <br>
                    <br>
                    <label for="weight" class="weightlb">Your Weight: </label>
                    <input type="number" id="weightInPounds" class="required digits"> lbs. &nbsp;
                    <br>
                    <br>
                    <input type='submit' value='Submit' name="submit" id='BMIImperialFeetAndInches'>
                    <br>
                    <br>
                    <br>
                    <label for="output" class="BMI">Your BMI:</label>
                    <output type="number" id="BMIImperial"></output>
                </form>
                <br>
            </div>

            <div id="tabs-2">
                <form id="metricFill" action="sampleactionOne.html">
                    <label for="height" class="heightCent">Your Height: </label>
                    <input type="number" id="heightInCentimeters" class="required digits"> Centimeters &nbsp;
                    <br>
                    <br>
                    <label for="weight" class="weightkg">Your Weight: </label>
                    <input type="number" id="weightInKilos" class="required digits"> Kilograms &nbsp;

                    <br>
                    <br>
                    <input type='submit' value='Submit' name="submit" id='submitme'>
                    <br>
                    <br>
                    <br>
                    <label for="output" class="BMI">Your BMI:</label>
                    <output type="text" id="BMIMetric"></output>
                </form>
                <br>

            </div>
        </div>

    </div>
    <p id="result"></p>

</body>

</html>
